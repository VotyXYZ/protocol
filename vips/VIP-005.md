# VIP-005: Voting power

This VIP defines data structure of voting power of users.

Voting power stores in organization's group.

```ts
type VotingPowerUnit = {
  function: string; // Name of functions registered below.
  arguments: unknown[];
};

type VotingPowerSets = {
  operation: string; // Number operator
  operands: VotingPowerUnit[] | VotingPowerSets[]; // circular reference structure
};
```

Voting power stores in organization's group.

```ts
type Organization = {
  // ...
  groups: {
    // ...
    voting_power: VotingPowerSets;
  }[];
};
```

Here is an example of voting power:

```json
{
  "operation": "sum",
  "operands": [
    {
      "function": "fixed_records",
      "arguments": [{ "regex.bit": 1, "vitalik.eth": 10 }]
    },
    {
      "function": "erc20_balance",
      "arguments": [1, "0x0000000000000000000000000000000000000000"]
    }
  ]
}
```

## Registered voting power number operations

Software `SHOULD` implement all operations.

Every operation `MUST` returns a number value.

| Operation name | Operation logic |
| :------------- | :-------------- |
| sum            | -               |
| max            | -               |
| min            | -               |

## Registered voting power function interfaces

Software `MAY` choose what subset of interfaces they want to implement.

Every function `MUST` returns a number value.

| Function name | Arguments type                                  |
| :------------ | :---------------------------------------------- |
| fixed_records | `records: { [did: string]: number }`            |
| erc20_balance | `evm_chain_id: number` `token_contract: string` |
