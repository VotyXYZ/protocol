# VIP-004: Proposal rights

This VIP provides a flexible way to identify the set of users who have ability to create proposal.

Proposal rights stores in community's group, here is the data structure:

```ts
type BooleanUnit = {
  function: string; // Name of functions registered below.
  arguments: unknown[];
};

type BooleanSets = {
  operation: string; // Logical operator
  operands: BooleanUnit[] | BooleanSets[]; // circular reference structure
};
```

Proposal rights stores in community's group.

```ts
type Community = {
  // ...
  groups: {
    // ...
    proposal_rights: BooleanSets;
  }[];
};
```

Here is an example of proposal rights:

```json
{
  "operation": "or",
  "operands": [
    {
      "function": "is_did",
      "arguments": [["regex.bit", "vitalik.eth"]]
    },
    {
      "function": "is_sub_did_of",
      "arguments": [["regex.bit"]]
    }
  ]
}
```

## Registered proposal rights boolean operations

Software `SHOULD` implement all operations.

Every operation `MUST` returns a boolean value.

| Name | Note                                                  |
| :--- | :---------------------------------------------------- |
| and  | Throw error if there is less or equal than 1 operand. |
| or   | Throw error if there is less or equal than 1 operand. |
| not  | Throw error if there is not 1 operand.                |

## Registered proposal rights function interfaces

Software `MAY` choose what subset of interfaces they want to implement.

Every function `MUST` returns a boolean value.

| Function name | Arguments type                                          |
| :------------ | :------------------------------------------------------ |
| is_did        | `did_list: string[]`                                    |
| is_sub_did_of | `did_list: string[]`                                    |
| owns_erc721   | `evm_chain_id: number` `token_contract_address: string` |
